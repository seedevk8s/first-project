flowchart TD
    A[π“ CSV λ°μ΄ν„° λ΅λ“<br/>20κ° λ‰΄μ¤ ν•­λ©] --> B[π”¤ ν…μ¤νΈ μ¶”μ¶]
    B --> C[π¤– OpenAI μ„λ² λ”©<br/>text-embedding-3-small]
    B --> D[π” TF-IDF λ²΅ν„°ν™”<br/>scikit-learn]
    
    C --> E[π“ Dense λ²΅ν„°<br/>1536μ°¨μ›]
    D --> F[π― Sparse λ²΅ν„°<br/>104μ°¨μ›]
    
    E --> G[π—„οΈ Qdrant μ»¬λ ‰μ… μƒμ„±]
    F --> G
    
    G --> H[π“ ν¬μΈνΈ κµ¬μ΅° μ •μ<br/>ID + Dense + Sparse + Payload]
    H --> I[β¬†οΈ λ°μ΄ν„° μ—…μ„νΈ<br/>20κ° ν¬μΈνΈ]
    
    I --> J[β“ κ²€μƒ‰ μΏΌλ¦¬<br/>'μ†λΉ„μ μ •μ±… λ°ν‘']
    J --> K[π¤– μΏΌλ¦¬ μ„λ² λ”©<br/>OpenAI API]
    K --> L[π” λ²΅ν„° μ μ‚¬λ„ κ²€μƒ‰<br/>μ½”μ‚¬μΈ μ μ‚¬λ„]
    
    L --> M[π“‹ κ²€μƒ‰ κ²°κ³Ό<br/>Top 3 κ²°κ³Ό]
    
    subgraph "π—οΈ λ²΅ν„° κµ¬μ„±"
        E
        F
    end
    
    subgraph "π― κ²€μƒ‰ μ—”μ§„"
        G
        H
        I
    end
    
    subgraph "π” κ²€μƒ‰ ν”„λ΅μ„Έμ¤"
        J
        K
        L
        M
    end
    
    style A fill:#e1f5fe
    style C fill:#f3e5f5
    style D fill:#f3e5f5
    style G fill:#e8f5e8
    style M fill:#fff3e0